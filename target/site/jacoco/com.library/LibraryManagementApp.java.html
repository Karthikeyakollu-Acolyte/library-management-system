<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>LibraryManagementApp.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Library Management System</a> &gt; <a href="index.source.html" class="el_package">com.library</a> &gt; <span class="el_source">LibraryManagementApp.java</span></div><h1>LibraryManagementApp.java</h1><pre class="source lang-java linenums">package com.library;

import com.library.model.Book;
import com.library.model.Member;
import com.library.service.LibraryService;
import com.library.service.ReportService;

import java.time.LocalDate;
import java.util.List;
import java.util.Scanner;

/**
 * Main application class for Library Management System
 */
public class LibraryManagementApp {
    private LibraryService libraryService;
    private ReportService reportService;
    private Scanner scanner;

<span class="nc" id="L20">    public LibraryManagementApp() {</span>
<span class="nc" id="L21">        this.libraryService = new LibraryService();</span>
<span class="nc" id="L22">        this.reportService = new ReportService(libraryService);</span>
<span class="nc" id="L23">        this.scanner = new Scanner(System.in);</span>
<span class="nc" id="L24">    }</span>

    public static void main(String[] args) {
<span class="nc" id="L27">        LibraryManagementApp app = new LibraryManagementApp();</span>
<span class="nc" id="L28">        app.run();</span>
<span class="nc" id="L29">    }</span>

    public void run() {
<span class="nc" id="L32">        System.out.println(&quot;Welcome to Library Management System!&quot;);</span>
<span class="nc" id="L33">        System.out.println(&quot;====================================&quot;);</span>
        
        // Demo with sample data
<span class="nc" id="L36">        runDemo();</span>
        
<span class="nc" id="L38">        boolean running = true;</span>
<span class="nc bnc" id="L39" title="All 2 branches missed.">        while (running) {</span>
<span class="nc" id="L40">            showMenu();</span>
<span class="nc" id="L41">            int choice = getIntInput(&quot;Enter your choice: &quot;);</span>
            
<span class="nc bnc" id="L43" title="All 9 branches missed.">            switch (choice) {</span>
                case 1:
<span class="nc" id="L45">                    addNewBook();</span>
<span class="nc" id="L46">                    break;</span>
                case 2:
<span class="nc" id="L48">                    addNewMember();</span>
<span class="nc" id="L49">                    break;</span>
                case 3:
<span class="nc" id="L51">                    borrowBook();</span>
<span class="nc" id="L52">                    break;</span>
                case 4:
<span class="nc" id="L54">                    returnBook();</span>
<span class="nc" id="L55">                    break;</span>
                case 5:
<span class="nc" id="L57">                    searchBooks();</span>
<span class="nc" id="L58">                    break;</span>
                case 6:
<span class="nc" id="L60">                    showAvailableBooks();</span>
<span class="nc" id="L61">                    break;</span>
                case 7:
<span class="nc" id="L63">                    showReports();</span>
<span class="nc" id="L64">                    break;</span>
                case 8:
<span class="nc" id="L66">                    running = false;</span>
<span class="nc" id="L67">                    System.out.println(&quot;Thank you for using Library Management System!&quot;);</span>
<span class="nc" id="L68">                    break;</span>
                default:
<span class="nc" id="L70">                    System.out.println(&quot;Invalid choice. Please try again.&quot;);</span>
            }
            
<span class="nc bnc" id="L73" title="All 2 branches missed.">            if (running) {</span>
<span class="nc" id="L74">                System.out.println(&quot;\nPress Enter to continue...&quot;);</span>
<span class="nc" id="L75">                scanner.nextLine();</span>
            }
<span class="nc" id="L77">        }</span>
        
<span class="nc" id="L79">        scanner.close();</span>
<span class="nc" id="L80">    }</span>

    private void showMenu() {
<span class="nc" id="L83">        System.out.println(&quot;\n=== LIBRARY MANAGEMENT SYSTEM ===&quot;);</span>
<span class="nc" id="L84">        System.out.println(&quot;1. Add New Book&quot;);</span>
<span class="nc" id="L85">        System.out.println(&quot;2. Add New Member&quot;);</span>
<span class="nc" id="L86">        System.out.println(&quot;3. Borrow Book&quot;);</span>
<span class="nc" id="L87">        System.out.println(&quot;4. Return Book&quot;);</span>
<span class="nc" id="L88">        System.out.println(&quot;5. Search Books&quot;);</span>
<span class="nc" id="L89">        System.out.println(&quot;6. Show Available Books&quot;);</span>
<span class="nc" id="L90">        System.out.println(&quot;7. Generate Reports&quot;);</span>
<span class="nc" id="L91">        System.out.println(&quot;8. Exit&quot;);</span>
<span class="nc" id="L92">    }</span>

    private void runDemo() {
<span class="nc" id="L95">        System.out.println(&quot;\n=== RUNNING DEMO WITH SAMPLE DATA ===&quot;);</span>
        
        // Demo borrowing books
<span class="nc" id="L98">        System.out.println(&quot;\nDemo: John Doe borrowing 'Effective Java'&quot;);</span>
<span class="nc" id="L99">        libraryService.borrowBook(&quot;M001&quot;, &quot;978-0134685991&quot;);</span>
        
<span class="nc" id="L101">        System.out.println(&quot;\nDemo: Jane Smith borrowing 'Clean Code'&quot;);</span>
<span class="nc" id="L102">        libraryService.borrowBook(&quot;M002&quot;, &quot;978-0132350884&quot;);</span>
        
<span class="nc" id="L104">        System.out.println(&quot;\nDemo: Bob Johnson borrowing 'Head First Design Patterns'&quot;);</span>
<span class="nc" id="L105">        libraryService.borrowBook(&quot;M003&quot;, &quot;978-0596009205&quot;);</span>
        
        // Demo returning a book
<span class="nc" id="L108">        System.out.println(&quot;\nDemo: John Doe returning 'Effective Java'&quot;);</span>
<span class="nc" id="L109">        libraryService.returnBook(&quot;M001&quot;, &quot;978-0134685991&quot;);</span>
        
<span class="nc" id="L111">        System.out.println(&quot;\n=== DEMO COMPLETED ===&quot;);</span>
<span class="nc" id="L112">    }</span>

    private void addNewBook() {
<span class="nc" id="L115">        System.out.println(&quot;\n=== ADD NEW BOOK ===&quot;);</span>
        
<span class="nc" id="L117">        String isbn = getStringInput(&quot;Enter ISBN: &quot;);</span>
<span class="nc" id="L118">        String title = getStringInput(&quot;Enter Title: &quot;);</span>
<span class="nc" id="L119">        String author = getStringInput(&quot;Enter Author: &quot;);</span>
<span class="nc" id="L120">        String category = getStringInput(&quot;Enter Category: &quot;);</span>
        
<span class="nc" id="L122">        System.out.print(&quot;Enter Publication Year (YYYY): &quot;);</span>
<span class="nc" id="L123">        int year = getIntInput(&quot;&quot;);</span>
        
<span class="nc" id="L125">        Book book = new Book(isbn, title, author, category, LocalDate.of(year, 1, 1));</span>
<span class="nc" id="L126">        libraryService.addBook(book);</span>
<span class="nc" id="L127">    }</span>

    private void addNewMember() {
<span class="nc" id="L130">        System.out.println(&quot;\n=== ADD NEW MEMBER ===&quot;);</span>
        
<span class="nc" id="L132">        String memberId = getStringInput(&quot;Enter Member ID: &quot;);</span>
<span class="nc" id="L133">        String name = getStringInput(&quot;Enter Name: &quot;);</span>
<span class="nc" id="L134">        String email = getStringInput(&quot;Enter Email: &quot;);</span>
<span class="nc" id="L135">        String phone = getStringInput(&quot;Enter Phone: &quot;);</span>
        
<span class="nc" id="L137">        Member member = new Member(memberId, name, email, phone);</span>
<span class="nc" id="L138">        libraryService.addMember(member);</span>
<span class="nc" id="L139">    }</span>

    private void borrowBook() {
<span class="nc" id="L142">        System.out.println(&quot;\n=== BORROW BOOK ===&quot;);</span>
        
<span class="nc" id="L144">        String memberId = getStringInput(&quot;Enter Member ID: &quot;);</span>
<span class="nc" id="L145">        String isbn = getStringInput(&quot;Enter Book ISBN: &quot;);</span>
        
<span class="nc" id="L147">        libraryService.borrowBook(memberId, isbn);</span>
<span class="nc" id="L148">    }</span>

    private void returnBook() {
<span class="nc" id="L151">        System.out.println(&quot;\n=== RETURN BOOK ===&quot;);</span>
        
<span class="nc" id="L153">        String memberId = getStringInput(&quot;Enter Member ID: &quot;);</span>
<span class="nc" id="L154">        String isbn = getStringInput(&quot;Enter Book ISBN: &quot;);</span>
        
<span class="nc" id="L156">        libraryService.returnBook(memberId, isbn);</span>
<span class="nc" id="L157">    }</span>

    private void searchBooks() {
<span class="nc" id="L160">        System.out.println(&quot;\n=== SEARCH BOOKS ===&quot;);</span>
        
<span class="nc" id="L162">        String searchTerm = getStringInput(&quot;Enter search term (title, author, or category): &quot;);</span>
<span class="nc" id="L163">        List&lt;Book&gt; results = libraryService.searchBooks(searchTerm);</span>
        
<span class="nc bnc" id="L165" title="All 2 branches missed.">        if (results.isEmpty()) {</span>
<span class="nc" id="L166">            System.out.println(&quot;No books found matching your search.&quot;);</span>
        } else {
<span class="nc" id="L168">            System.out.println(&quot;\nSearch Results:&quot;);</span>
<span class="nc bnc" id="L169" title="All 2 branches missed.">            for (Book book : results) {</span>
<span class="nc bnc" id="L170" title="All 2 branches missed.">                String status = book.isAvailable() ? &quot;Available&quot; : &quot;Borrowed&quot;;</span>
<span class="nc" id="L171">                System.out.printf(&quot;ISBN: %s | %s by %s [%s] - %s%n&quot;, </span>
<span class="nc" id="L172">                        book.getIsbn(), book.getTitle(), book.getAuthor(), book.getCategory(), status);</span>
<span class="nc" id="L173">            }</span>
        }
<span class="nc" id="L175">    }</span>

    private void showAvailableBooks() {
<span class="nc" id="L178">        System.out.println(&quot;\n=== AVAILABLE BOOKS ===&quot;);</span>
        
<span class="nc" id="L180">        List&lt;Book&gt; availableBooks = libraryService.getAvailableBooks();</span>
        
<span class="nc bnc" id="L182" title="All 2 branches missed.">        if (availableBooks.isEmpty()) {</span>
<span class="nc" id="L183">            System.out.println(&quot;No books are currently available.&quot;);</span>
        } else {
<span class="nc" id="L185">            System.out.println(&quot;Available Books:&quot;);</span>
<span class="nc bnc" id="L186" title="All 2 branches missed.">            for (Book book : availableBooks) {</span>
<span class="nc" id="L187">                System.out.printf(&quot;ISBN: %s | %s by %s [%s]%n&quot;, </span>
<span class="nc" id="L188">                        book.getIsbn(), book.getTitle(), book.getAuthor(), book.getCategory());</span>
<span class="nc" id="L189">            }</span>
        }
<span class="nc" id="L191">    }</span>

    private void showReports() {
<span class="nc" id="L194">        System.out.println(&quot;\n=== REPORTS MENU ===&quot;);</span>
<span class="nc" id="L195">        System.out.println(&quot;1. Popular Books Report&quot;);</span>
<span class="nc" id="L196">        System.out.println(&quot;2. Overdue Books Report&quot;);</span>
<span class="nc" id="L197">        System.out.println(&quot;3. Library Statistics&quot;);</span>
<span class="nc" id="L198">        System.out.println(&quot;4. Member Activity Report&quot;);</span>
<span class="nc" id="L199">        System.out.println(&quot;5. Books by Category Report&quot;);</span>
<span class="nc" id="L200">        System.out.println(&quot;6. Back to Main Menu&quot;);</span>
        
<span class="nc" id="L202">        int choice = getIntInput(&quot;Enter your choice: &quot;);</span>
        
<span class="nc bnc" id="L204" title="All 7 branches missed.">        switch (choice) {</span>
            case 1:
<span class="nc" id="L206">                reportService.generatePopularBooksReport();</span>
<span class="nc" id="L207">                break;</span>
            case 2:
<span class="nc" id="L209">                reportService.generateOverdueBooksReport();</span>
<span class="nc" id="L210">                break;</span>
            case 3:
<span class="nc" id="L212">                reportService.generateLibraryStatsReport();</span>
<span class="nc" id="L213">                break;</span>
            case 4:
<span class="nc" id="L215">                reportService.generateMemberActivityReport();</span>
<span class="nc" id="L216">                break;</span>
            case 5:
<span class="nc" id="L218">                reportService.generateBooksByCategoryReport();</span>
<span class="nc" id="L219">                break;</span>
            case 6:
<span class="nc" id="L221">                return;</span>
            default:
<span class="nc" id="L223">                System.out.println(&quot;Invalid choice.&quot;);</span>
        }
<span class="nc" id="L225">    }</span>

    private String getStringInput(String prompt) {
<span class="nc" id="L228">        System.out.print(prompt);</span>
<span class="nc" id="L229">        return scanner.nextLine().trim();</span>
    }

    private int getIntInput(String prompt) {
        while (true) {
            try {
<span class="nc" id="L235">                System.out.print(prompt);</span>
<span class="nc" id="L236">                int value = Integer.parseInt(scanner.nextLine().trim());</span>
<span class="nc" id="L237">                return value;</span>
<span class="nc" id="L238">            } catch (NumberFormatException e) {</span>
<span class="nc" id="L239">                System.out.println(&quot;Please enter a valid number.&quot;);</span>
<span class="nc" id="L240">            }</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>